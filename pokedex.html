<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>Pokédex</title>

  <!-- Estilo oficial da Pokémon -->
  <link rel="stylesheet" href="https://assets.pokemon.com/static2/_ui/css/main.css" />
  <link href="//fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet" type="text/css" />

  <!-- Seu CSS externo -->
  <link rel="stylesheet" href="pokemon.css" />
</head>
<body>

  <header>
    <nav>
      <a href="#">Pokédex</a>
    </nav>
  </header>

  <main>
    <h1>Bem-vindo à Pokédex!</h1>
    <p>Explore o mundo dos Pokémon com informações detalhadas sobre todos eles.</p>

    <!-- Área de busca -->
    <div id="search-section">
      <input type="text" id="pokemon-input" placeholder="Digite o nome ou número do Pokémon" />
      <button id="search-button">Buscar</button>
    </div>

    <!-- Área de exibição do Pokémon (opcional) -->
    <div id="pokemon-info"></div>
  </main>

  <!-- Modal do Pokémon -->
  <div id="pokemon-modal">
    <div class="modal-content">
      <span id="modal-close" class="close">&times;</span>
      <div id="modal-body"></div>
    </div>
  </div>

  <script>
    const button = document.getElementById('search-button');
    const input = document.getElementById('pokemon-input');
    const infoDiv = document.getElementById('pokemon-info');

    const modal = document.getElementById('pokemon-modal');
    const modalBody = document.getElementById('modal-body');
    const modalClose = document.getElementById('modal-close');

    button.addEventListener('click', () => {
      const pokemonNameOrNumber = input.value.toLowerCase().trim();
      if (pokemonNameOrNumber === '') {
        alert('Por favor, digite o nome ou número de um Pokémon.');
        return;
      }
      fetchPokemon(pokemonNameOrNumber);
    });

    async function fetchPokemon(nameOrNumber) {
      try {
        const response = await fetch(`https://pokeapi.co/api/v2/pokemon/${nameOrNumber}`);
        if (!response.ok) {
          throw new Error('Pokémon não encontrado.');
        }
        const data = await response.json();

        // Limpa área de exibição tradicional (opcional)
        infoDiv.innerHTML = '';

        // Preenche o modal com as informações do Pokémon usando o card estilizado
        modalBody.innerHTML = `
          <div class="pokemon-card">
            <h2>${data.name} (#${data.id})</h2>
            <img src="${data.sprites.other["official-artwork"].front_default || data.sprites.front_default}" alt="${data.name}" />
            <div class="types">
              ${data.types.map(t => `<span class="type">${t.type.name}</span>`).join('')}
            </div>
            <p><strong>Altura:</strong> ${(data.height / 10).toFixed(1)} m</p>
            <p><strong>Peso:</strong> ${(data.weight / 10).toFixed(1)} kg</p>
            <p><strong>Habilidades:</strong> ${data.abilities.map(a => a.ability.name).join(', ')}</p>
            <h3>Status base:</h3>
            <ul>
              ${data.stats.map(s => `<li>${s.stat.name}: ${s.base_stat}</li>`).join('')}
            </ul>
          </div>
        `;

        // Mostra o modal
        modal.style.display = 'block';

      } catch (error) {
        infoDiv.innerHTML = `<p style="color: red;">${error.message}</p>`;
      }
    }

    // Fecha o modal ao clicar no "x"
    modalClose.addEventListener('click', () => {
      modal.style.display = 'none';
    });

    // Fecha o modal se clicar fora da área do conteúdo
    window.addEventListener('click', (event) => {
      if (event.target === modal) {
        modal.style.display = 'none';
      }
    });
  </script>
</body>
</html>